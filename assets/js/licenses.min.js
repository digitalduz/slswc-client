jQuery(function(r){"use strict";r(document).ready(function(){d.init()}),window.slswcClientOptions=window.slswcClientLocalization||{};const d={init:function(){r(".force-client-environment").on("click",d.toggleEnvironment),r(".license-action").on("click",d.processAction)},toggleEnvironment:function(t){r(this).attr("id");var e=r(this).data("slug");r(this).is(":checked")?(r("#"+e+"_environment").show(),r("#"+e+"_environment-label").show()):(r("#"+e+"_environment").hide(),r("#"+e+"_environment-label").hide())},processAction:function(t){t.preventDefault();let e=r(this),n=r(e).html();r(e).html(`<img src="${window.slswcClientOptions.loader_url}" width="12" height="12"/> Processing`);let i=r(this).data("slug");var s=r(this).data("license_key"),o=r(this).data("action"),c=r(this).data("nonce"),a=r(this).data("domain"),t=r(this).data("version");let l="";r("#"+i+"_force-client-environment").is(":checked")&&r("#"+i+"_environment").is(":visible")&&(l=r("#"+i+"_environment").val()),console.log(i,s,o,a,c,t,l),r.ajax({url:window.slswcClientOptions.ajax_url,data:{action:"slswc_activate_license",license_action:o,license_key:s,slug:i,domain:a,version:t,environment:l,nonce:c},dataType:"json",type:"POST",success:function(t){i;r(e).html(n),r("#"+i+"_license_status").val(t.status),r("#"+i+"_license_status_text").html(t.status),0!=t.success?"active"===t.status?(d.notice(t.message),r(e).html(window.slswcClientOptions.text_deactivate),r(e).data("action","deactivate")):(d.notice(t.message,"error"),r(e).html(window.slswcClientOptions.text_activate),r(e).data("action","activate")):d.notice(t.data.message,"error")},error:function(t){t=t.message;d.notice(t,"error"),r(e).html(n)}})},notice:function(t,e="success",n=!0){let i=`<div class="${e} notice is-dismissible"><p>${t}</p>`;n&&(i+='<button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button>'),i+="</div>",r("#license-action-response-message").html(i)}}});